# Git Worktree:è®©å¤šä¸ª AI åŠ©æ‰‹åŒæ—¶ä¸ºä½ å†™ä»£ç çš„æ­£ç¡®å§¿åŠ¿

Dec 25, 2025

> **å…³é”®è¯:** `Git` Â· `Worktree` Â· `AIå¼€å‘` Â· `å¹¶è¡Œå¼€å‘` Â· `æ•ˆç‡æå‡`

---

## å°æ˜çš„å›°å¢ƒ

ä¸Šå‘¨ï¼Œå°æ˜é‡åˆ°ä¸€ä¸ªæ£˜æ‰‹çš„éœ€æ±‚:ç»™ç°æœ‰ç³»ç»ŸåŠ ä¸€ä¸ªç”¨æˆ·è®¤è¯æ¨¡å—ã€‚ä»–æƒ³åˆ°ä¸€ä¸ªåŠæ³•:æ—¢ç„¶ Claude çš„æ¶æ„è®¾è®¡èƒ½åŠ›å¼ºï¼ŒCodex çš„ä»£ç ç”Ÿæˆé€Ÿåº¦å¿«ï¼Œä¸ºä»€ä¹ˆä¸è®©å®ƒä»¬åŒæ—¶å¹²æ´»,æœ€åå¯¹æ¯”é€‰æœ€å¥½çš„?

æƒ³æ³•å¾ˆç¾å¥½,ç°å®å¾ˆéª¨æ„Ÿã€‚ä¸€ä¸ªå°æ—¶åï¼Œä»–çš„é¡¹ç›®æ–‡ä»¶å¤¹å˜æˆäº†è¿™æ ·:

```bash
project/
â”œâ”€â”€ auth.ts        # è¢«æ”¹äº† 4 æ¬¡ï¼Œä¸çŸ¥é“æœ€åæ˜¯è°çš„ç‰ˆæœ¬
â”œâ”€â”€ auth_v2.ts     # Claude é‡å†™çš„ç‰ˆæœ¬
â”œâ”€â”€ auth_final.ts  # Codex é‡å†™çš„ç‰ˆæœ¬
â””â”€â”€ auth_backup.ts # å°æ˜è‡ªå·±çš„å¤‡ä»½
```

ä»£ç äº’ç›¸è¦†ç›–ï¼Œä¸Šä¸‹æ–‡ä¸€å›¢ç³Ÿï¼Œä¸¤ä¸ª AI ç”Ÿæˆçš„ä»£ç æ··åœ¨ä¸€èµ·ï¼Œæ ¹æœ¬æ²¡æ³•å¯¹æ¯”ã€‚å°æ˜èŠ±äº† 3 ä¸ªå°æ—¶æ•´ç†ä»£ç ï¼Œæœ€åè¿˜æ˜¯ä¸ç¡®å®šç”¨å“ªä¸ªç‰ˆæœ¬ã€‚

è¿™ä¸ªé—®é¢˜æœ‰è§£å—ï¼Ÿæœ‰ã€‚ç­”æ¡ˆå°±è—åœ¨ Git çš„ä¸€ä¸ª"å†·é—¨"åŠŸèƒ½é‡Œã€‚

---

## ä¼ ç»Ÿæ–¹æ¡ˆä¸ºä»€ä¹ˆä¸è¡Œ?

åœ¨èŠè§£å†³æ–¹æ¡ˆå‰ï¼Œå…ˆçœ‹çœ‹å¸¸è§åšæ³•çš„é—®é¢˜ã€‚

### æ–¹æ¡ˆ 1:åŒä¸€åˆ†æ”¯è½®æµç”¨

```bash
# 1. å…ˆè®© Claude å†™
claude "å®ç°ç”¨æˆ·è®¤è¯"
git commit -m "Claude ç‰ˆæœ¬"

# 2. å†è®© Codex å†™
codex "å®ç°ç”¨æˆ·è®¤è¯"
# ğŸ’¥ ä»£ç è¢«è¦†ç›–äº†!
```

**é—®é¢˜**:ç¬¬äºŒä¸ª AI ä¼šè¦†ç›–ç¬¬ä¸€ä¸ªçš„ä»£ç ï¼Œæ— æ³•å¯¹æ¯”ã€‚

### æ–¹æ¡ˆ 2:åˆ›å»ºå¤šä¸ªåˆ†æ”¯

```bash
git checkout -b claude-auth
# Claude å†™ä»£ç 

git checkout -b codex-auth
# Codex å†™ä»£ç 

# æƒ³åŒæ—¶æŸ¥çœ‹ä¸¤ä¸ªç‰ˆæœ¬?
# å¾—æ¥å›åˆ‡åˆ†æ”¯ï¼Œå¤ªéº»çƒ¦!
```

**é—®é¢˜**:é¢‘ç¹åˆ‡æ¢åˆ†æ”¯ï¼Œå¿ƒæ™ºè´Ÿæ‹…å¤§ã€‚æƒ³åŒæ—¶è¿è¡Œä¸¤ä¸ª AI?åšä¸åˆ°ã€‚

### æ–¹æ¡ˆ 3:æ‰‹åŠ¨å¤åˆ¶ç›®å½•

```bash
cp -r project project-claude
cp -r project project-codex
```

**é—®é¢˜**:å¤åˆ¶äº†ä¸¤ä»½å®Œæ•´ä»£ç (åŒ…æ‹¬ `.git` ç›®å½•)ï¼Œå ç”¨ç£ç›˜ç©ºé—´ç¿»å€ã€‚è€Œä¸”ä¸åœ¨ Git ç®¡ç†èŒƒå›´å†…ï¼Œæ— æ³•ç”¨ `git diff` å¯¹æ¯”ã€‚

---

## Git Worktree:ä¸“ä¸šé€‰æ‰‹çš„æ­¦å™¨

### ä»€ä¹ˆæ˜¯ Git Worktree?

ç”¨äººè¯è¯´:å®ƒèƒ½è®©ä½ ä¸ºåŒä¸€ä¸ª Git ä»“åº“çš„ä¸åŒåˆ†æ”¯ï¼Œåˆ›å»ºå¤šä¸ªç‹¬ç«‹çš„å·¥ä½œç›®å½•ã€‚

```bash
project/
â”œâ”€â”€ main/          # ä¸»ç›®å½• (main åˆ†æ”¯)
â”œâ”€â”€ wt-claude/     # Claude ä¸“å±ç›®å½• (claude-auth åˆ†æ”¯)
â””â”€â”€ wt-codex/      # Codex ä¸“å±ç›®å½• (codex-auth åˆ†æ”¯)
```

**æ ¸å¿ƒç‰¹ç‚¹**:
- ä¸‰ä¸ªç›®å½•å…±äº«åŒä¸€ä¸ª `.git` ä»“åº“(èŠ‚çœç£ç›˜)
- æ¯ä¸ªç›®å½•å…³è”ä¸åŒåˆ†æ”¯(ç‰©ç†éš”ç¦»)
- å¯ä»¥åŒæ—¶æ‰“å¼€å¤šä¸ªç›®å½•(çœŸæ­£å¹¶è¡Œ)

### ä¸ºä»€ä¹ˆå®ƒæ˜¯æœ€ä¼˜è§£?

å¯¹æ¯”ä¼ ç»Ÿæ–¹æ¡ˆ:

| æ–¹æ¡ˆ | åˆ‡åˆ†æ”¯ | åŒæ—¶è¿è¡Œ | ç£ç›˜å ç”¨ | ç”¨ git diff å¯¹æ¯” |
|------|--------|----------|----------|------------------|
| æ™®é€šåˆ†æ”¯ | âŒ é¢‘ç¹åˆ‡æ¢ | âŒ | 1å€ | âœ… |
| æ‰‹åŠ¨å¤åˆ¶ | âœ… | âœ… | 2å€+ | âŒ |
| **Git Worktree** | **âœ…** | **âœ…** | **1.1å€** | **âœ…** |

å®æµ‹æ•°æ®(ä¸€ä¸ª 300MB çš„ Node.js é¡¹ç›®):
- æ‰‹åŠ¨å¤åˆ¶:å ç”¨ 620MB (å®Œæ•´å¤åˆ¶ä¸¤ä»½)
- Worktree:å ç”¨ 330MB (åªå¤šäº†æºç ,å…±äº« node_modules å’Œ .git)

**çœäº†è¿‘ 300MBï¼Œè¿˜èƒ½ç”¨æ‰€æœ‰ Git å‘½ä»¤ã€‚**

---

## å®æˆ˜:è®© Claude å’Œ Codex å¹¶è¡Œå¹²æ´»

### ç¬¬ä¸€æ­¥:å‡†å¤‡åŸºçº¿åˆ†æ”¯

```bash
# 1. åˆ›å»ºéœ€æ±‚æ–‡æ¡£
mkdir -p docs
cat > docs/task-auth.md << 'EOF'
# ç”¨æˆ·è®¤è¯æ¨¡å—éœ€æ±‚

## åŠŸèƒ½è¦æ±‚
- æ”¯æŒé‚®ç®±å¯†ç ç™»å½•
- JWT token éªŒè¯
- å¯†ç å¿…é¡» bcrypt åŠ å¯†

## æŠ€æœ¯çº¦æŸ
- ä½¿ç”¨ TypeScript
- ä¸å…è®¸ä¿®æ”¹ docs/ ç›®å½•
- æ‰€æœ‰ä»£ç æ”¾åœ¨ src/auth/ ä¸‹
EOF

# 2. åˆ›å»ºåŸºçº¿åˆ†æ”¯
git checkout -b feature/auth-base
git add docs/task-auth.md
git commit -m "feat: æ·»åŠ è®¤è¯æ¨¡å—éœ€æ±‚æ–‡æ¡£"
```

**é‡ç‚¹**:éœ€æ±‚æ–‡æ¡£å¿…é¡»åœ¨åŸºçº¿åˆ†æ”¯åˆ›å»ºï¼Œç¡®ä¿ä¸¤ä¸ª AI çœ‹åˆ°çš„éœ€æ±‚å®Œå…¨ä¸€è‡´ã€‚

### ç¬¬äºŒæ­¥:åˆ›å»ºä¸¤ä¸ª Worktree

```bash
# ä¸º Claude åˆ›å»ºå·¥ä½œç›®å½•
git worktree add ../wt-claude ai/claude-auth

# ä¸º Codex åˆ›å»ºå·¥ä½œç›®å½•
git worktree add ../wt-codex ai/codex-auth

# æŸ¥çœ‹å½“å‰ worktree åˆ—è¡¨
git worktree list
```

è¾“å‡º:
```
/path/to/project         (main)
/path/to/wt-claude       (ai/claude-auth)
/path/to/wt-codex        (ai/codex-auth)
```

### ç¬¬ä¸‰æ­¥:åˆ†åˆ«å¯åŠ¨ AI(å…³é”®)

æ‰“å¼€ä¸¤ä¸ªç»ˆç«¯çª—å£:

**ç»ˆç«¯ 1 - Claude**
```bash
cd ../wt-claude

# å¯åŠ¨ Claude
claude
> "è¯·é˜…è¯» docs/task-auth.md å¹¶å®ç°ç”¨æˆ·è®¤è¯æ¨¡å—"
```

**ç»ˆç«¯ 2 - Codex**
```bash
cd ../wt-codex

# å¯åŠ¨ Codex
codex
> "è¯·é˜…è¯» docs/task-auth.md å¹¶å®ç°ç”¨æˆ·è®¤è¯æ¨¡å—"
```

**çºªå¾‹**:
- ä¸¤ä¸ª AI ä¸èƒ½å…±äº«å¯¹è¯å†å²
- è¾“å…¥çš„ prompt å¿…é¡»ä¸€è‡´
- ä¸è¦åœ¨ä¸€ä¸ª Worktree é‡Œè·‘ä¸¤ä¸ª AI

### ç¬¬å››æ­¥:ä»£ç å¯¹æ¯”ä¸å†³ç­–

ç­‰ä¸¤ä¸ª AI éƒ½å®Œæˆå:

```bash
# 1. æŸ¥çœ‹å·®å¼‚
git diff ai/claude-auth..ai/codex-auth

# 2. æŸ¥çœ‹å…·ä½“æ–‡ä»¶çš„å·®å¼‚
git diff ai/claude-auth..ai/codex-auth -- src/auth/login.ts

# 3. ä½¿ç”¨å¯è§†åŒ–å·¥å…·
# VS Code: å®‰è£… GitLens æ’ä»¶ï¼Œå³é”® "Compare with Branch"
# æˆ–å‘½ä»¤è¡Œ
git difftool ai/claude-auth ai/codex-auth
```

### ç¬¬äº”æ­¥:è¯„å®¡ä»£ç è´¨é‡

ä¸è¦åªçœ‹"èƒ½ä¸èƒ½è·‘"ã€‚ç”¨è¿™ä¸ªæ¸…å•:

#### æ¶æ„å±‚é¢(æƒé‡æœ€é«˜)
- [ ] æ¨¡å—è¾¹ç•Œæ¸…æ™°å—?
- [ ] æœªæ¥åŠ åŠŸèƒ½æ–¹ä¾¿å—?
- [ ] æœ‰æ˜æ˜¾çš„æŠ€æœ¯å€ºå—?

#### å¯è¯»æ€§
- [ ] 30 ç§’èƒ½çœ‹æ‡‚æ ¸å¿ƒæµç¨‹å—?
- [ ] å‡½æ•°å‘½ååƒäººå†™çš„å—?
- [ ] æ³¨é‡Šæ°åˆ°å¥½å¤„å—?(ä¸å¤šä¸å°‘)

#### æŠ½è±¡æ˜¯å¦æ°å½“
- [ ] æœ‰"ä¸ºäº†ä¼˜é›…è€Œä¼˜é›…"çš„è¿‡åº¦è®¾è®¡å—?
- [ ] æŠ½è±¡æœ‰çœŸå®çš„å¤ç”¨ä»·å€¼å—?

#### é”™è¯¯å¤„ç†
- [ ] å¼‚å¸¸è¢«åæ‰äº†å—?
- [ ] è¾¹ç•Œæ¡ä»¶è€ƒè™‘äº†å—?
- [ ] é”™è¯¯ä¿¡æ¯å¯¹ç”¨æˆ·å‹å¥½å—?

#### ç»ˆæé—®é¢˜
> **"6 ä¸ªæœˆå,è¿™æ®µä»£ç æˆ‘è¿˜æ„¿æ„ç»´æŠ¤å—?"**

### ç¬¬å…­æ­¥:åˆå¹¶ä¼˜èƒœæ–¹æ¡ˆ

å‡è®¾ Claude çš„ç‰ˆæœ¬æ›´å¥½:

```bash
# åˆ‡å›ä¸»åˆ†æ”¯
git checkout main

# åˆå¹¶ Claude çš„ä»£ç 
git merge ai/claude-auth

# æ¨é€åˆ°è¿œç¨‹
git push origin main
```

æƒ³æ··åˆä¸¤ä¸ªç‰ˆæœ¬?æ‰‹åŠ¨ cherry-pick:

```bash
# ä» Codex åˆ†æ”¯æŒ‘é€‰æŸä¸ª commit
git cherry-pick <commit-id>
```

### ç¬¬ä¸ƒæ­¥:æ¸…ç†ç°åœº

```bash
# åˆ é™¤ worktree
git worktree remove wt-claude
git worktree remove wt-codex

# åˆ é™¤ä¸´æ—¶åˆ†æ”¯(å¯é€‰)
git branch -D ai/claude-auth
git branch -D ai/codex-auth
```

---

## è¿›é˜¶æŠ€å·§

### 1. ä¸€é”®åˆ›å»º Worktree çš„è„šæœ¬

æ¯æ¬¡æ‰‹åŠ¨åˆ›å»ºå¤ªéº»çƒ¦?å†™ä¸ªè„šæœ¬:

```bash
#!/bin/bash
# æ–‡ä»¶å: ai-worktree.sh

set -e

TASK=$1

if [ -z "$TASK" ]; then
  echo "ç”¨æ³•: ./ai-worktree.sh <ä»»åŠ¡å>"
  echo "ç¤ºä¾‹: ./ai-worktree.sh auth"
  exit 1
fi

echo "ğŸš€ åˆ›å»º AI å¹¶è¡Œå¼€å‘ç¯å¢ƒ: $TASK"

# åˆ›å»ºåŸºçº¿åˆ†æ”¯
git checkout -b feature/${TASK}-base

# åˆ›å»ºä¸¤ä¸ª worktree
git worktree add ../wt-claude ai/claude-${TASK}
git worktree add ../wt-codex ai/codex-${TASK}

echo "âœ… å®Œæˆ!"
echo "ğŸ‘‰ Claude ç›®å½•: ../wt-claude"
echo "ğŸ‘‰ Codex ç›®å½•: ../wt-codex"
```

ä½¿ç”¨:
```bash
chmod +x ai-worktree.sh
./ai-worktree.sh auth
```

### 2. é”å®šéœ€æ±‚æ–‡æ¡£(é˜²æ­¢ AI ä¹±æ”¹)

```bash
# æ–¹æ³• 1: è®¾ç½®æ–‡ä»¶ä¸ºåªè¯»
chmod -w docs/task.md

# æ–¹æ³• 2: Git å¿½ç•¥å˜æ›´
git update-index --skip-worktree docs/task.md
```

### 3. æ‰¹é‡æ¸…ç† Worktree

```bash
# æŸ¥çœ‹æ‰€æœ‰ worktree
git worktree list

# æ‰¹é‡åˆ é™¤(å°å¿ƒä½¿ç”¨!)
git worktree list | grep 'wt-' | awk '{print $1}' | xargs -I {} git worktree remove {}
```

### 4. ç§»åŠ¨ Worktree ä½ç½®

```bash
# ç§»åŠ¨ worktree åˆ°æ–°ä½ç½®
mv ../wt-claude ~/projects/wt-claude

# ä¿®å¤ Git å¼•ç”¨
git worktree repair
```

---

## å¸¸è§é—®é¢˜ä¸è§£å†³

### é—®é¢˜ 1: ä¾èµ–å®‰è£…å†²çª

**ç°è±¡**: ä¸¤ä¸ª Worktree çš„ `node_modules` ç‰ˆæœ¬ä¸ä¸€è‡´ã€‚

**åŸå› **: Worktree ä¸å…±äº« `node_modules` ç­‰ç›®å½•ã€‚

**è§£å†³**:
```bash
# æ–¹æ³• 1: æ¯ä¸ª worktree ç‹¬ç«‹å®‰è£…
cd wt-claude && npm install
cd wt-codex && npm install

# æ–¹æ³• 2: ä½¿ç”¨ pnpm(è‡ªåŠ¨ç¡¬é“¾æ¥)
pnpm install  # åœ¨ä¸¤ä¸ªç›®å½•éƒ½æ‰§è¡Œ
```

### é—®é¢˜ 2: ç«¯å£è¢«å ç”¨

**ç°è±¡**: ä¸¤ä¸ª AI åŒæ—¶å¯åŠ¨å¼€å‘æœåŠ¡å™¨,ç«¯å£å†²çªã€‚

**è§£å†³**:
```bash
# wt-claude/.env
PORT=3000

# wt-codex/.env
PORT=3001
```

### é—®é¢˜ 3: åˆ é™¤ Worktree æŠ¥é”™

**ç°è±¡**: `git worktree remove` æç¤º "worktree contains modified or untracked files"ã€‚

**è§£å†³**:
```bash
# æ–¹æ³• 1: å¼ºåˆ¶åˆ é™¤
git worktree remove wt-claude --force

# æ–¹æ³• 2: å…ˆæ¸…ç†å†åˆ é™¤
cd wt-claude
git reset --hard
cd ..
git worktree remove wt-claude
```

### é—®é¢˜ 4: Worktree è·¯å¾„ä¸¢å¤±

**ç°è±¡**: ç§»åŠ¨è¿‡ç›®å½•å,Git æ‰¾ä¸åˆ° worktreeã€‚

**è§£å†³**:
```bash
# ä¿®å¤æ‰€æœ‰ worktree å¼•ç”¨
git worktree repair

# æˆ–æ‰‹åŠ¨æŒ‡å®šè·¯å¾„
git worktree repair /new/path/to/worktree
```

---

## æœ€ä½³å®è·µæ€»ç»“

### åˆ†æ”¯å‘½åè§„èŒƒ

```bash
# æ¨èæ ¼å¼
ai/<å·¥å…·å>-<ä»»åŠ¡å>

# ç¤ºä¾‹
ai/claude-auth
ai/codex-payment
ai/gpt4-refactor
```

### å·¥ä½œæµæ£€æŸ¥æ¸…å•

**å¼€å§‹å‰**:
- [ ] éœ€æ±‚æ–‡æ¡£å·²åˆ›å»ºåœ¨åŸºçº¿åˆ†æ”¯
- [ ] ä¸¤ä¸ª AI çš„ prompt ä¸€è‡´
- [ ] Worktree ç›®å½•ç»“æ„æ¸…æ™°

**å¼€å‘ä¸­**:
- [ ] ä¸¤ä¸ª AI æ²¡æœ‰å…±äº«ä¸Šä¸‹æ–‡
- [ ] æ¯ä¸ª AI åªåœ¨è‡ªå·±çš„ç›®å½•å·¥ä½œ
- [ ] å®šæœŸ commit(æ–¹ä¾¿å›æ»š)

**å®Œæˆå**:
- [ ] ç”¨è¯„å®¡æ¸…å•å¯¹æ¯”ä»£ç è´¨é‡
- [ ] åšå‡ºæ˜ç¡®çš„æŠ€æœ¯å†³ç­–
- [ ] æ¸…ç†ä¸´æ—¶ worktree å’Œåˆ†æ”¯

### å›¢é˜Ÿåä½œå»ºè®®

å¦‚æœå›¢é˜Ÿå¤šäººä½¿ç”¨è¿™ä¸ªæ–¹æ³•:

1. **ç»Ÿä¸€è„šæœ¬**: æŠŠåˆ›å»º worktree çš„è„šæœ¬åŠ å…¥ä»“åº“
2. **æ–‡æ¡£åŒ–**: åœ¨ README è¯´æ˜ worktree ç”¨é€”
3. **å®šæœŸæ¸…ç†**: æ¯å‘¨äº”æ¸…ç†æ— ç”¨çš„ worktree
4. **å‘½åè§„èŒƒ**: å›¢é˜Ÿç»Ÿä¸€åˆ†æ”¯å‘½åæ ¼å¼

---

## ä»€ä¹ˆæ—¶å€™ä¸é€‚åˆç”¨ Worktree?

ä¹Ÿè¦è¯´å®è¯:

### âŒ ä¸æ¨èçš„åœºæ™¯

- **è¶…å°æ”¹åŠ¨**: æ”¹ 1-2 ä¸ªæ–‡ä»¶,ç”¨æ™®é€šåˆ†æ”¯æ›´å¿«
- **é Git é¡¹ç›®**: æ²¡æœ‰ç‰ˆæœ¬æ§åˆ¶çš„é¡¹ç›®
- **å•çº¯ä»£ç è¡¥å…¨**: AI åªæ˜¯è¾…åŠ©è¡¥å…¨,ä¸æ˜¯ç”Ÿæˆå®Œæ•´æ–¹æ¡ˆ
- **ç£ç›˜ç©ºé—´æåº¦ç´§å¼ **: è™½ç„¶ Worktree çœç©ºé—´,ä½†è¿˜æ˜¯ä¼šå¤šå ä¸€äº›

### âœ… æœ€é€‚åˆçš„åœºæ™¯

- **æ–¹æ¡ˆå¯¹æ¯”**: éœ€è¦æ¯”è¾ƒä¸åŒ AI çš„å®ç°æ–¹æ¡ˆ
- **å¹¶è¡Œå¼€å‘**: åŒæ—¶è®©å¤šä¸ª AI å®ç°ä¸åŒåŠŸèƒ½æ¨¡å—
- **é‡æ„è¯„ä¼°**: è®© AI æä¾›å¤šä¸ªé‡æ„æ–¹æ¡ˆä¾›é€‰æ‹©
- **å­¦ä¹ ç ”ç©¶**: å¯¹æ¯”ä¸åŒ AI çš„ä»£ç é£æ ¼å’Œè®¾è®¡æ€è·¯

---

## å¿«é€Ÿä¸Šæ‰‹æ¸…å•

å¤åˆ¶è¿™ä¸ªæ¸…å•,å¼€å§‹ä½ çš„ç¬¬ä¸€æ¬¡ AI å¹¶è¡Œå¼€å‘:

```bash
# 1. å‡†å¤‡éœ€æ±‚æ–‡æ¡£
mkdir -p docs
vim docs/task.md  # å†™æ¸…æ¥šè¦åšä»€ä¹ˆ

# 2. åˆ›å»ºåŸºçº¿åˆ†æ”¯
git checkout -b feature/task-base
git add docs/task.md
git commit -m "feat: æ·»åŠ éœ€æ±‚æ–‡æ¡£"

# 3. åˆ›å»ºä¸¤ä¸ª worktree
git worktree add ../wt-claude ai/claude-task
git worktree add ../wt-codex ai/codex-task

# 4. åˆ†åˆ«å¯åŠ¨ AI
# ç»ˆç«¯ 1: cd ../wt-claude && claude
# ç»ˆç«¯ 2: cd ../wt-codex && codex

# 5. å¯¹æ¯”ä»£ç 
git diff ai/claude-task..ai/codex-task

# 6. åˆå¹¶ä¼˜èƒœæ–¹æ¡ˆ
git checkout main
git merge ai/claude-task  # å‡è®¾ Claude æ›´å¥½

# 7. æ¸…ç†ç°åœº
git worktree remove wt-claude
git worktree remove wt-codex
git branch -D ai/claude-task ai/codex-task
```

---

## é¿å‘æŒ‡å—

### å‘ 1: å¿˜è®°åˆ‡æ¢ç›®å½•

```bash
# âŒ é”™è¯¯:åœ¨ä¸»ç›®å½•å¯åŠ¨ä¸¤ä¸ª AI
cd project
claude "å®ç°åŠŸèƒ½"
codex "å®ç°åŠŸèƒ½"   # ä¼šè¦†ç›– Claude çš„ä»£ç !

# âœ… æ­£ç¡®:åœ¨å„è‡ªçš„ worktree å¯åŠ¨
cd wt-claude && claude
cd wt-codex && codex
```

### å‘ 2: éœ€æ±‚æ–‡æ¡£ä¸ä¸€è‡´

```bash
# âŒ é”™è¯¯:åœ¨ä¸åŒ worktree ä¿®æ”¹éœ€æ±‚
cd wt-claude
vim docs/task.md  # åŠ äº†æ–°éœ€æ±‚

cd wt-codex
vim docs/task.md  # åŠ äº†ä¸åŒçš„éœ€æ±‚
```

**ç»“æœ**: ä¸¤ä¸ª AI åšçš„æ˜¯ä¸åŒçš„äº‹,æ— æ³•å¯¹æ¯”ã€‚

**è§£å†³**: éœ€æ±‚æ–‡æ¡£é”å®šåœ¨åŸºçº¿åˆ†æ”¯,æˆ–è®¾ä¸ºåªè¯»ã€‚

### å‘ 3: å¿˜è®°å®šæœŸ commit

**ç°è±¡**: AI å†™äº†åŠå¤©ä»£ç ,çªç„¶å´©æºƒäº†,æ‰€æœ‰ä»£ç ä¸¢å¤±ã€‚

**é¿å…**:
```bash
# æ¯å®Œæˆä¸€ä¸ªå°åŠŸèƒ½å°± commit
git add .
git commit -m "feat: å®Œæˆç™»å½•æ¥å£"
```

### å‘ 4: ç›´æ¥åˆ é™¤ worktree ç›®å½•

```bash
# âŒ é”™è¯¯
rm -rf ../wt-claude  # Git ä¼šè®¤ä¸º worktree è¿˜åœ¨

# âœ… æ­£ç¡®
git worktree remove wt-claude  # å…ˆç”¨ Git å‘½ä»¤åˆ é™¤
```

---

## æ€»ç»“

Git Worktree ä¸æ˜¯ä»€ä¹ˆæ–°æŠ€æœ¯,ä½†å®ƒè§£å†³äº†ä¸€ä¸ªçœŸå®çš„ç—›ç‚¹:**è®©å¤šä¸ª AI åŠ©æ‰‹å¹¶è¡Œå·¥ä½œ,äº’ä¸å¹²æ‰°,äº§å‡ºå¯å¯¹æ¯”çš„é«˜è´¨é‡ä»£ç **ã€‚

æ ¸å¿ƒè¦ç‚¹å›é¡¾:

1. **ç‰©ç†éš”ç¦» > é€»è¾‘éš”ç¦»**: ä¸è¦æŒ‡æœ› prompt èƒ½çº¦æŸ AI
2. **ç‹¬ç«‹ç›®å½•**: æ¯ä¸ª AI ä¸€ä¸ªä¸“å± worktree
3. **ç»Ÿä¸€éœ€æ±‚**: ç¡®ä¿è¾“å…¥ä¸€è‡´,è¾“å‡ºæ‰å¯æ¯”
4. **äººå·¥å†³ç­–**: ä½ æ˜¯æœ€ç»ˆçš„æ¶æ„è£åˆ¤
5. **å®šæœŸæ¸…ç†**: ç”¨å®Œå°±åˆ ,ä¿æŒä»“åº“æ•´æ´

è¯•è¯•çœ‹,ä¸‹æ¬¡è®© AI å†™ä»£ç æ—¶,åˆ«å†è®©å®ƒä»¬äº’ç›¸æ‰“æ¶äº†ã€‚ç”¨ Worktree,ç»™æ¯ä¸ª AI ä¸€ä¸ªç‹¬ç«‹çš„èˆå°,ä½ åªéœ€è¦åœ¨å°ä¸‹åšå¥½è¯„å§”ã€‚

---

**å‚è€ƒèµ„æ–™**:
- [Git Worktree å®˜æ–¹æ–‡æ¡£](https://git-scm.com/docs/git-worktree)
- [Git åˆ†æ”¯ç®¡ç†æœ€ä½³å®è·µ](https://nvie.com/posts/a-successful-git-branching-model/)